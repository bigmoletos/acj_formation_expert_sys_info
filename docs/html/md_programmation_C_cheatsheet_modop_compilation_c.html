<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>AJC Formation expert sys info - Option Data - Oct2024: Mode Opératoire : Compilation d&#39;un programme C sous WSL avec GCC</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">AJC Formation expert sys info - Option Data - Oct2024
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Mode Opératoire : Compilation d'un programme C sous WSL avec GCC </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h2>Objectif</h2>
<p>Ce document explique comment compiler et exécuter un programme C sous WSL en utilisant le compilateur <b>GCC</b>.</p>
<h2>Prérequis</h2>
<ul>
<li>Avoir installé <b>WSL</b> (Windows Subsystem for Linux) sur votre machine.</li>
<li>Avoir installé <b>GCC</b> dans l'environnement WSL.</li>
<li>pour <b>connaitre la version</b> de son compilateur et de son C</li>
</ul>
<div class="fragment"><div class="line">gcc --version</div><div class="line">gcc -dM -E - &lt; /dev/null | grep __STDC_VERSION__</div></div><!-- fragment --><h3>Installation de GCC sous WSL</h3>
<p>Si GCC n'est pas installé, voici les étapes pour l'installer :</p>
<ol type="1">
<li>Mettre à jour la liste des paquets :</li>
</ol>
<div class="fragment"><div class="line">sudo apt update</div><div class="line">sudo apt upgrade</div><div class="line">sudo apt install build-essential -y</div><div class="line">sudo apt install mingw-w64</div></div><!-- fragment --><ol type="1">
<li>Installer le compilateur GCC : <div class="fragment"><div class="line">sudo apt install gcc</div></div><!-- fragment --></li>
<li>Vérifier l'installation de GCC : <div class="fragment"><div class="line">gcc --version</div></div><!-- fragment --></li>
</ol>
<h2>Étapes pour compiler un programme C</h2>
<h3>1. Créer un fichier source C</h3>
<ol type="1">
<li>Ouvrir un éditeur de texte sous WSL (par exemple, <code>nano</code> ou <code>vim</code>). <div class="fragment"><div class="line">nano hello.c</div></div><!-- fragment --></li>
<li>Écrire le programme C dans ce fichier :</li>
</ol>
<div class="fragment"><div class="line">#include &lt;stdio.h&gt;</div><div class="line"></div><div class="line">int main() {</div><div class="line">      printf(&quot;Hello, World!\n&quot;);</div><div class="line">      return 0;</div><div class="line">}</div></div><!-- fragment --><ol type="1">
<li>Sauvegarder et quitter l'éditeur :<ul>
<li>Pour <code>nano</code> : <code>CTRL+O</code> pour enregistrer, puis <code>CTRL+X</code> pour quitter.</li>
</ul>
</li>
</ol>
<h3>2. Compiler le fichier source</h3>
<ol type="1">
<li>Utiliser GCC pour compiler le fichier source :</li>
</ol>
<div class="fragment"><div class="line">gcc hello.c -o hello</div></div><!-- fragment --><ol type="1">
<li>Cette commande crée un fichier exécutable appelé <code>hello</code>.</li>
<li>Compiler un exe fonctionnant sous windows :</li>
</ol>
<div class="fragment"><div class="line">export LANG=C.UTF-8 # pour assurer que l&#39;encodage du fichier sera en utf8</div><div class="line">x86_64-w64-mingw32-gcc -o mon_prog.exe fichier_source.c</div></div><!-- fragment --><ol type="1">
<li>Cette commande crée un fichier exécutable appelé <code>hello</code>. <h3>3. Exécuter le programme compilé</h3>
</li>
</ol>
<ol type="1">
<li>Exécuter l'exécutable généré avec la commande suivante : <div class="fragment"><div class="line">./hello</div></div><!-- fragment --></li>
<li>Vous devriez voir le message suivant s'afficher : <div class="fragment"><div class="line">Hello, World!</div></div><!-- fragment --></li>
</ol>
<h2>Options de compilation courantes</h2>
<ul>
<li><b>-o</b> : Spécifie le nom de l'exécutable. Exemple : <div class="fragment"><div class="line">gcc fichier.c -o nom_programme</div></div><!-- fragment --></li>
<li><b>-Wall</b> : Active tous les avertissements. Exemple : <div class="fragment"><div class="line">gcc -Wall fichier.c -o programme</div></div><!-- fragment --></li>
<li><b>-g</b> : Inclut des informations de débogage dans l'exécutable. Exemple : <div class="fragment"><div class="line">gcc -g fichier.c -o programme</div></div><!-- fragment --></li>
<li><b>-O2</b> : Active des optimisations de niveau 2 pour améliorer les performances. Exemple : <div class="fragment"><div class="line">gcc -O2 fichier.c -o programme</div></div><!-- fragment --></li>
<li><b>-lm</b> : Lien avec la bibliothèque mathématique <code>libm</code> pour utiliser des fonctions mathématiques. Exemple : <div class="fragment"><div class="line">gcc fichier.c -o programme -lm</div></div><!-- fragment --></li>
</ul>
<h2>Variables</h2>
<p>```bash #include &lt;stdio.h&gt;</p>
<p>int <a class="el" href="htop_8c.html#a3c04138a5bfe5d72780bb7e82a18e627">main()</a> { // Déclarations de variables de différents types int int_var = 42; long long_var = 1234567890L; unsigned int uint_var = 300; unsigned long ulong_var = 4000000000UL; float float_var = 3.14159f; double double_var = 2.718281828459; long double ldouble_var = 1.61803398875L; char char_var = 'A'; char string_var[] = "Hello, World!";</p>
<p>// Impression des différentes variables avec les formats appropriés printf("Int: %d\n", int_var); printf("Long Int: %ld\n", long_var); printf("Unsigned Int: %u\n", uint_var); printf("Unsigned Long Int: %lu\n", ulong_var);</p>
<p>// Représentation en octal et hexadécimal printf("Unsigned Int (octal): %o\n", uint_var); printf("Unsigned Int (hexadécimal): %x\n", uint_var); printf("Unsigned Long Int (hexadécimal): %lx\n", ulong_var);</p>
<p>// Valeurs flottantes et doubles printf("Float: %f\n", float_var); printf("Double: %f\n", double_var); printf("Long Double: %Lf\n", ldouble_var);</p>
<p>// Notation exponentielle printf("Double (exponentielle): %e\n", double_var); printf("Long Double (exponentielle): %Le\n", ldouble_var);</p>
<p>// Notation courte entre f et e printf("Double (notation courte): %g\n", double_var); printf("Long Double (notation courte): %Lg\n", ldouble_var);</p>
<p>// Caractère et chaîne de caractères printf("Char: %c\n", char_var); printf("String: %s\n", string_var);</p>
<p>return 0; } </p><hr/>
 </div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
